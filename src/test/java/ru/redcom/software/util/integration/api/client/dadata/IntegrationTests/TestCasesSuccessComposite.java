/*
 * Copyright (c) 2018 Boris Fox, REDCOM-Internet CJSC
 * All rights reserved.
 */

package ru.redcom.software.util.integration.api.client.dadata.IntegrationTests;

import lombok.Getter;
import org.hamcrest.Matcher;
import ru.redcom.software.util.integration.api.client.dadata.DaDataClient;
import ru.redcom.software.util.integration.api.client.dadata.dto.AsIs;
import ru.redcom.software.util.integration.api.client.dadata.dto.CompositeRequest;
import ru.redcom.software.util.integration.api.client.dadata.dto.CompositeResponse;

import javax.annotation.Nonnull;
import javax.annotation.Nullable;

import static com.spotify.hamcrest.pojo.IsPojo.pojo;
import static org.hamcrest.Matchers.*;
import static org.junit.Assert.assertThat;
import static ru.redcom.software.util.integration.api.client.dadata.dto.CompositeElementType.*;

public class TestCasesSuccessComposite {
	public static final String MOCK_RESPONSE_FULL_JSON = "{\"structure\":[\"AS_IS\",\"NAME\",\"ADDRESS\",\"BIRTHDATE\",\"PASSPORT\",\"PHONE\",\"EMAIL\",\"VEHICLE\"],\"data\":[[{\"source\":\"as is 1\"},{\"source\":\"name 1\",\"result\":null,\"result_genitive\":null,\"result_dative\":null,\"result_ablative\":null,\"surname\":null,\"name\":null,\"patronymic\":null,\"gender\":\"НД\",\"qc\":1},{\"source\":\"address 1\",\"result\":null,\"postal_code\":null,\"country\":null,\"region_fias_id\":null,\"region_kladr_id\":null,\"region_with_type\":null,\"region_type\":null,\"region_type_full\":null,\"region\":null,\"area_fias_id\":null,\"area_kladr_id\":null,\"area_with_type\":null,\"area_type\":null,\"area_type_full\":null,\"area\":null,\"city_fias_id\":null,\"city_kladr_id\":null,\"city_with_type\":null,\"city_type\":null,\"city_type_full\":null,\"city\":null,\"city_area\":null,\"city_district_fias_id\":null,\"city_district_kladr_id\":null,\"city_district_with_type\":null,\"city_district_type\":null,\"city_district_type_full\":null,\"city_district\":null,\"settlement_fias_id\":null,\"settlement_kladr_id\":null,\"settlement_with_type\":null,\"settlement_type\":null,\"settlement_type_full\":null,\"settlement\":null,\"street_fias_id\":null,\"street_kladr_id\":null,\"street_with_type\":null,\"street_type\":null,\"street_type_full\":null,\"street\":null,\"house_fias_id\":null,\"house_kladr_id\":null,\"house_type\":null,\"house_type_full\":null,\"house\":null,\"block_type\":null,\"block_type_full\":null,\"block\":null,\"flat_type\":null,\"flat_type_full\":null,\"flat\":null,\"flat_area\":null,\"square_meter_price\":null,\"flat_price\":null,\"postal_box\":null,\"fias_id\":null,\"fias_code\":null,\"fias_level\":\"-1\",\"fias_actuality_state\":\"0\",\"kladr_id\":null,\"capital_marker\":\"0\",\"okato\":null,\"oktmo\":null,\"tax_office\":null,\"tax_office_legal\":null,\"timezone\":null,\"geo_lat\":null,\"geo_lon\":null,\"beltway_hit\":null,\"beltway_distance\":null,\"qc_geo\":5,\"qc_complete\":1,\"qc_house\":10,\"qc\":1,\"unparsed_parts\":\"АДДРЕСС, 1\",\"metro\":null},{\"source\":\"birthdate 1\",\"birthdate\":null,\"qc\":1},{\"source\":\"passport 1\",\"series\":null,\"number\":null,\"qc\":1},{\"source\":\"phone 1\",\"type\":\"Неизвестный\",\"phone\":null,\"country_code\":null,\"city_code\":null,\"number\":null,\"extension\":null,\"provider\":null,\"region\":null,\"timezone\":null,\"qc_conflict\":0,\"qc\":1},{\"source\":\"email 1\",\"email\":null,\"qc\":1},{\"source\":\"vehicle 1\",\"result\":\"TRABANT 1.1\",\"brand\":\"TRABANT\",\"model\":\"1.1\",\"qc\":0}],[{\"source\":\"asis 2a asis 2b\"},{\"source\":\"name 2a name 2b\",\"result\":\"Б\",\"result_genitive\":null,\"result_dative\":null,\"result_ablative\":null,\"surname\":null,\"name\":\"Б\",\"patronymic\":null,\"gender\":\"НД\",\"qc\":1},{\"source\":\"address 2a,address 2b\",\"result\":null,\"postal_code\":null,\"country\":null,\"region_fias_id\":null,\"region_kladr_id\":null,\"region_with_type\":null,\"region_type\":null,\"region_type_full\":null,\"region\":null,\"area_fias_id\":null,\"area_kladr_id\":null,\"area_with_type\":null,\"area_type\":null,\"area_type_full\":null,\"area\":null,\"city_fias_id\":null,\"city_kladr_id\":null,\"city_with_type\":null,\"city_type\":null,\"city_type_full\":null,\"city\":null,\"city_area\":null,\"city_district_fias_id\":null,\"city_district_kladr_id\":null,\"city_district_with_type\":null,\"city_district_type\":null,\"city_district_type_full\":null,\"city_district\":null,\"settlement_fias_id\":null,\"settlement_kladr_id\":null,\"settlement_with_type\":null,\"settlement_type\":null,\"settlement_type_full\":null,\"settlement\":null,\"street_fias_id\":null,\"street_kladr_id\":null,\"street_with_type\":null,\"street_type\":null,\"street_type_full\":null,\"street\":null,\"house_fias_id\":null,\"house_kladr_id\":null,\"house_type\":null,\"house_type_full\":null,\"house\":null,\"block_type\":null,\"block_type_full\":null,\"block\":null,\"flat_type\":null,\"flat_type_full\":null,\"flat\":null,\"flat_area\":null,\"square_meter_price\":null,\"flat_price\":null,\"postal_box\":null,\"fias_id\":null,\"fias_code\":null,\"fias_level\":\"-1\",\"fias_actuality_state\":\"0\",\"kladr_id\":null,\"capital_marker\":\"0\",\"okato\":null,\"oktmo\":null,\"tax_office\":null,\"tax_office_legal\":null,\"timezone\":null,\"geo_lat\":null,\"geo_lon\":null,\"beltway_hit\":null,\"beltway_distance\":null,\"qc_geo\":5,\"qc_complete\":1,\"qc_house\":10,\"qc\":1,\"unparsed_parts\":\"АДДРЕСС, 2, А, АДДРЕСС, 2, Б\",\"metro\":null},{\"source\":\"birthdate 2a birthdate 2b\",\"birthdate\":null,\"qc\":1},{\"source\":\"passport 2a passport 2b\",\"series\":null,\"number\":null,\"qc\":1},{\"source\":\"phone 2a phone 2b\",\"type\":\"Неизвестный\",\"phone\":null,\"country_code\":null,\"city_code\":null,\"number\":null,\"extension\":null,\"provider\":null,\"region\":null,\"timezone\":null,\"qc_conflict\":0,\"qc\":1},{\"source\":\"email 2a email 2b\",\"email\":null,\"qc\":1},{\"source\":\"vehicle 2a vehicle 2b\",\"result\":null,\"brand\":null,\"model\":null,\"qc\":1}],[{\"source\":\"asis 3\"},{\"source\":\"name 2a name 2b\",\"result\":\"Б\",\"result_genitive\":null,\"result_dative\":null,\"result_ablative\":null,\"surname\":null,\"name\":\"Б\",\"patronymic\":null,\"gender\":\"НД\",\"qc\":1},{\"source\":null,\"result\":null,\"postal_code\":null,\"country\":null,\"region_fias_id\":null,\"region_kladr_id\":null,\"region_with_type\":null,\"region_type\":null,\"region_type_full\":null,\"region\":null,\"area_fias_id\":null,\"area_kladr_id\":null,\"area_with_type\":null,\"area_type\":null,\"area_type_full\":null,\"area\":null,\"city_fias_id\":null,\"city_kladr_id\":null,\"city_with_type\":null,\"city_type\":null,\"city_type_full\":null,\"city\":null,\"city_area\":null,\"city_district_fias_id\":null,\"city_district_kladr_id\":null,\"city_district_with_type\":null,\"city_district_type\":null,\"city_district_type_full\":null,\"city_district\":null,\"settlement_fias_id\":null,\"settlement_kladr_id\":null,\"settlement_with_type\":null,\"settlement_type\":null,\"settlement_type_full\":null,\"settlement\":null,\"street_fias_id\":null,\"street_kladr_id\":null,\"street_with_type\":null,\"street_type\":null,\"street_type_full\":null,\"street\":null,\"house_fias_id\":null,\"house_kladr_id\":null,\"house_type\":null,\"house_type_full\":null,\"house\":null,\"block_type\":null,\"block_type_full\":null,\"block\":null,\"flat_type\":null,\"flat_type_full\":null,\"flat\":null,\"flat_area\":null,\"square_meter_price\":null,\"flat_price\":null,\"postal_box\":null,\"fias_id\":null,\"fias_code\":null,\"fias_level\":\"-1\",\"fias_actuality_state\":\"0\",\"kladr_id\":null,\"capital_marker\":\"0\",\"okato\":null,\"oktmo\":null,\"tax_office\":null,\"tax_office_legal\":null,\"timezone\":null,\"geo_lat\":null,\"geo_lon\":null,\"beltway_hit\":null,\"beltway_distance\":null,\"qc_geo\":5,\"qc_complete\":1,\"qc_house\":10,\"qc\":2,\"unparsed_parts\":null,\"metro\":null},{\"source\":null,\"birthdate\":null,\"qc\":2},{\"source\":null,\"series\":null,\"number\":null,\"qc\":2},{\"source\":null,\"type\":null,\"phone\":null,\"country_code\":null,\"city_code\":null,\"number\":null,\"extension\":null,\"provider\":null,\"region\":null,\"timezone\":null,\"qc_conflict\":0,\"qc\":2},{\"source\":null,\"email\":null,\"qc\":2},{\"source\":null,\"result\":null,\"brand\":null,\"model\":null,\"qc\":2}],[{\"source\":\"as-is 4a as-is 4b as-is 4c\"},{\"source\":null,\"result\":null,\"result_genitive\":null,\"result_dative\":null,\"result_ablative\":null,\"surname\":null,\"name\":null,\"patronymic\":null,\"gender\":\"НД\",\"qc\":2},{\"source\":null,\"result\":null,\"postal_code\":null,\"country\":null,\"region_fias_id\":null,\"region_kladr_id\":null,\"region_with_type\":null,\"region_type\":null,\"region_type_full\":null,\"region\":null,\"area_fias_id\":null,\"area_kladr_id\":null,\"area_with_type\":null,\"area_type\":null,\"area_type_full\":null,\"area\":null,\"city_fias_id\":null,\"city_kladr_id\":null,\"city_with_type\":null,\"city_type\":null,\"city_type_full\":null,\"city\":null,\"city_area\":null,\"city_district_fias_id\":null,\"city_district_kladr_id\":null,\"city_district_with_type\":null,\"city_district_type\":null,\"city_district_type_full\":null,\"city_district\":null,\"settlement_fias_id\":null,\"settlement_kladr_id\":null,\"settlement_with_type\":null,\"settlement_type\":null,\"settlement_type_full\":null,\"settlement\":null,\"street_fias_id\":null,\"street_kladr_id\":null,\"street_with_type\":null,\"street_type\":null,\"street_type_full\":null,\"street\":null,\"house_fias_id\":null,\"house_kladr_id\":null,\"house_type\":null,\"house_type_full\":null,\"house\":null,\"block_type\":null,\"block_type_full\":null,\"block\":null,\"flat_type\":null,\"flat_type_full\":null,\"flat\":null,\"flat_area\":null,\"square_meter_price\":null,\"flat_price\":null,\"postal_box\":null,\"fias_id\":null,\"fias_code\":null,\"fias_level\":\"-1\",\"fias_actuality_state\":\"0\",\"kladr_id\":null,\"capital_marker\":\"0\",\"okato\":null,\"oktmo\":null,\"tax_office\":null,\"tax_office_legal\":null,\"timezone\":null,\"geo_lat\":null,\"geo_lon\":null,\"beltway_hit\":null,\"beltway_distance\":null,\"qc_geo\":5,\"qc_complete\":1,\"qc_house\":10,\"qc\":2,\"unparsed_parts\":null,\"metro\":null},{\"source\":null,\"birthdate\":null,\"qc\":2},{\"source\":null,\"series\":null,\"number\":null,\"qc\":2},{\"source\":null,\"type\":null,\"phone\":null,\"country_code\":null,\"city_code\":null,\"number\":null,\"extension\":null,\"provider\":null,\"region\":null,\"timezone\":null,\"qc_conflict\":0,\"qc\":2},{\"source\":null,\"email\":null,\"qc\":2},{\"source\":null,\"result\":null,\"brand\":null,\"model\":null,\"qc\":2}]]}";
	public static final String MOCK_RESPONSE_FULL_STRING = "CompositeResponse(structure=[AS_IS, NAME, ADDRESS, BIRTHDATE, PASSPORT, PHONE, EMAIL, VEHICLE], data=[CompositeResponse.Record(items={AS_IS=AsIs(super=ResponseItem(source=as is 1)), NAME=Name(super=ResponseItem(source=name 1), result=null, resultGenitive=null, resultDative=null, resultAblative=null, surname=null, name=null, patronymic=null, gender=UNKNOWN, qc=PARTIAL), ADDRESS=Address(super=ResponseItem(source=address 1), result=null, postalCode=null, country=null, regionFiasId=null, regionKladrId=null, regionWithType=null, regionType=null, regionTypeFull=null, region=null, areaFiasId=null, areaKladrId=null, areaWithType=null, areaType=null, areaTypeFull=null, area=null, cityFiasId=null, cityKladrId=null, cityWithType=null, cityType=null, cityTypeFull=null, city=null, cityArea=null, cityDistrictFiasId=null, cityDistrictKladrId=null, cityDistrictWithType=null, cityDistrictType=null, cityDistrictTypeFull=null, cityDistrict=null, settlementFiasId=null, settlementKladrId=null, settlementWithType=null, settlementType=null, settlementTypeFull=null, settlement=null, streetFiasId=null, streetKladrId=null, streetWithType=null, streetType=null, streetTypeFull=null, street=null, houseFiasId=null, houseKladrId=null, houseType=null, houseTypeFull=null, house=null, blockType=null, blockTypeFull=null, block=null, flatType=null, flatTypeFull=null, flat=null, flatArea=null, squareMeterPrice=null, flatPrice=null, postalBox=null, fiasId=null, fiasCode=null, fiasLevel=FOREIGN_OR_EMPTY, fiasActualityState=ACTUAL, kladrId=null, capitalMarker=OTHER, okato=null, oktmo=null, taxOffice=null, taxOfficeLegal=null, timezone=null, geoLat=null, geoLon=null, beltwayHit=null, beltwayDistance=null, qcGeo=UNDEFINED, qcComplete=NO_REGION, qcHouse=NOT_FOUND, qc=PARTIAL, unparsedParts=АДДРЕСС, 1, metro=null), BIRTHDATE=BirthDate(super=ResponseItem(source=birthdate 1), birthdate=null, qc=PARTIAL), PASSPORT=Passport(super=ResponseItem(source=passport 1), series=null, number=null, qc=BAD_FORMAT), PHONE=Phone(super=ResponseItem(source=phone 1), type=Неизвестный, phone=null, countryCode=null, cityCode=null, number=null, extension=null, provider=null, region=null, timezone=null, qcConflict=EXACT, qc=PARTIAL), EMAIL=Email(super=ResponseItem(source=email 1), email=null, qc=INVALID), VEHICLE=Vehicle(super=ResponseItem(source=vehicle 1), result=TRABANT 1.1, brand=TRABANT, model=1.1, qc=FULL)}), CompositeResponse.Record(items={AS_IS=AsIs(super=ResponseItem(source=asis 2a asis 2b)), NAME=Name(super=ResponseItem(source=name 2a name 2b), result=Б, resultGenitive=null, resultDative=null, resultAblative=null, surname=null, name=Б, patronymic=null, gender=UNKNOWN, qc=PARTIAL), ADDRESS=Address(super=ResponseItem(source=address 2a,address 2b), result=null, postalCode=null, country=null, regionFiasId=null, regionKladrId=null, regionWithType=null, regionType=null, regionTypeFull=null, region=null, areaFiasId=null, areaKladrId=null, areaWithType=null, areaType=null, areaTypeFull=null, area=null, cityFiasId=null, cityKladrId=null, cityWithType=null, cityType=null, cityTypeFull=null, city=null, cityArea=null, cityDistrictFiasId=null, cityDistrictKladrId=null, cityDistrictWithType=null, cityDistrictType=null, cityDistrictTypeFull=null, cityDistrict=null, settlementFiasId=null, settlementKladrId=null, settlementWithType=null, settlementType=null, settlementTypeFull=null, settlement=null, streetFiasId=null, streetKladrId=null, streetWithType=null, streetType=null, streetTypeFull=null, street=null, houseFiasId=null, houseKladrId=null, houseType=null, houseTypeFull=null, house=null, blockType=null, blockTypeFull=null, block=null, flatType=null, flatTypeFull=null, flat=null, flatArea=null, squareMeterPrice=null, flatPrice=null, postalBox=null, fiasId=null, fiasCode=null, fiasLevel=FOREIGN_OR_EMPTY, fiasActualityState=ACTUAL, kladrId=null, capitalMarker=OTHER, okato=null, oktmo=null, taxOffice=null, taxOfficeLegal=null, timezone=null, geoLat=null, geoLon=null, beltwayHit=null, beltwayDistance=null, qcGeo=UNDEFINED, qcComplete=NO_REGION, qcHouse=NOT_FOUND, qc=PARTIAL, unparsedParts=АДДРЕСС, 2, А, АДДРЕСС, 2, Б, metro=null), BIRTHDATE=BirthDate(super=ResponseItem(source=birthdate 2a birthdate 2b), birthdate=null, qc=PARTIAL), PASSPORT=Passport(super=ResponseItem(source=passport 2a passport 2b), series=null, number=null, qc=BAD_FORMAT), PHONE=Phone(super=ResponseItem(source=phone 2a phone 2b), type=Неизвестный, phone=null, countryCode=null, cityCode=null, number=null, extension=null, provider=null, region=null, timezone=null, qcConflict=EXACT, qc=PARTIAL), EMAIL=Email(super=ResponseItem(source=email 2a email 2b), email=null, qc=INVALID), VEHICLE=Vehicle(super=ResponseItem(source=vehicle 2a vehicle 2b), result=null, brand=null, model=null, qc=PARTIAL)}), CompositeResponse.Record(items={AS_IS=AsIs(super=ResponseItem(source=asis 3)), NAME=Name(super=ResponseItem(source=name 2a name 2b), result=Б, resultGenitive=null, resultDative=null, resultAblative=null, surname=null, name=Б, patronymic=null, gender=UNKNOWN, qc=PARTIAL), ADDRESS=Address(super=ResponseItem(source=null), result=null, postalCode=null, country=null, regionFiasId=null, regionKladrId=null, regionWithType=null, regionType=null, regionTypeFull=null, region=null, areaFiasId=null, areaKladrId=null, areaWithType=null, areaType=null, areaTypeFull=null, area=null, cityFiasId=null, cityKladrId=null, cityWithType=null, cityType=null, cityTypeFull=null, city=null, cityArea=null, cityDistrictFiasId=null, cityDistrictKladrId=null, cityDistrictWithType=null, cityDistrictType=null, cityDistrictTypeFull=null, cityDistrict=null, settlementFiasId=null, settlementKladrId=null, settlementWithType=null, settlementType=null, settlementTypeFull=null, settlement=null, streetFiasId=null, streetKladrId=null, streetWithType=null, streetType=null, streetTypeFull=null, street=null, houseFiasId=null, houseKladrId=null, houseType=null, houseTypeFull=null, house=null, blockType=null, blockTypeFull=null, block=null, flatType=null, flatTypeFull=null, flat=null, flatArea=null, squareMeterPrice=null, flatPrice=null, postalBox=null, fiasId=null, fiasCode=null, fiasLevel=FOREIGN_OR_EMPTY, fiasActualityState=ACTUAL, kladrId=null, capitalMarker=OTHER, okato=null, oktmo=null, taxOffice=null, taxOfficeLegal=null, timezone=null, geoLat=null, geoLon=null, beltwayHit=null, beltwayDistance=null, qcGeo=UNDEFINED, qcComplete=NO_REGION, qcHouse=NOT_FOUND, qc=UNRECOGNIZED, unparsedParts=null, metro=null), BIRTHDATE=BirthDate(super=ResponseItem(source=null), birthdate=null, qc=UNRECOGNIZED), PASSPORT=Passport(super=ResponseItem(source=null), series=null, number=null, qc=EMPTY), PHONE=Phone(super=ResponseItem(source=null), type=null, phone=null, countryCode=null, cityCode=null, number=null, extension=null, provider=null, region=null, timezone=null, qcConflict=EXACT, qc=UNRECOGNIZED), EMAIL=Email(super=ResponseItem(source=null), email=null, qc=UNRECOGNIZED), VEHICLE=Vehicle(super=ResponseItem(source=null), result=null, brand=null, model=null, qc=UNRECOGNIZED)}), CompositeResponse.Record(items={AS_IS=AsIs(super=ResponseItem(source=as-is 4a as-is 4b as-is 4c)), NAME=Name(super=ResponseItem(source=null), result=null, resultGenitive=null, resultDative=null, resultAblative=null, surname=null, name=null, patronymic=null, gender=UNKNOWN, qc=UNRECOGNIZED), ADDRESS=Address(super=ResponseItem(source=null), result=null, postalCode=null, country=null, regionFiasId=null, regionKladrId=null, regionWithType=null, regionType=null, regionTypeFull=null, region=null, areaFiasId=null, areaKladrId=null, areaWithType=null, areaType=null, areaTypeFull=null, area=null, cityFiasId=null, cityKladrId=null, cityWithType=null, cityType=null, cityTypeFull=null, city=null, cityArea=null, cityDistrictFiasId=null, cityDistrictKladrId=null, cityDistrictWithType=null, cityDistrictType=null, cityDistrictTypeFull=null, cityDistrict=null, settlementFiasId=null, settlementKladrId=null, settlementWithType=null, settlementType=null, settlementTypeFull=null, settlement=null, streetFiasId=null, streetKladrId=null, streetWithType=null, streetType=null, streetTypeFull=null, street=null, houseFiasId=null, houseKladrId=null, houseType=null, houseTypeFull=null, house=null, blockType=null, blockTypeFull=null, block=null, flatType=null, flatTypeFull=null, flat=null, flatArea=null, squareMeterPrice=null, flatPrice=null, postalBox=null, fiasId=null, fiasCode=null, fiasLevel=FOREIGN_OR_EMPTY, fiasActualityState=ACTUAL, kladrId=null, capitalMarker=OTHER, okato=null, oktmo=null, taxOffice=null, taxOfficeLegal=null, timezone=null, geoLat=null, geoLon=null, beltwayHit=null, beltwayDistance=null, qcGeo=UNDEFINED, qcComplete=NO_REGION, qcHouse=NOT_FOUND, qc=UNRECOGNIZED, unparsedParts=null, metro=null), BIRTHDATE=BirthDate(super=ResponseItem(source=null), birthdate=null, qc=UNRECOGNIZED), PASSPORT=Passport(super=ResponseItem(source=null), series=null, number=null, qc=EMPTY), PHONE=Phone(super=ResponseItem(source=null), type=null, phone=null, countryCode=null, cityCode=null, number=null, extension=null, provider=null, region=null, timezone=null, qcConflict=EXACT, qc=UNRECOGNIZED), EMAIL=Email(super=ResponseItem(source=null), email=null, qc=UNRECOGNIZED), VEHICLE=Vehicle(super=ResponseItem(source=null), result=null, brand=null, model=null, qc=UNRECOGNIZED)})])";

	private static final String MOCK_REQUEST_SAMPLES_FULL_JSON = "{\"structure\":[\"AS_IS\",\"NAME\",\"ADDRESS\",\"BIRTHDATE\",\"PASSPORT\",\"PHONE\",\"EMAIL\",\"VEHICLE\"],\"data\":[[\"as is sample 1\",\"Иванов Пётр Васильевич\",\"Хабаровский край, гор. Хабаровск, ул. Промышленная, д.20\",\"01.02.70\",\"4509 235857\",\"4212450045\",\"vasya@mail.ru\",\"форд фокус\"],[\"as is sample 2\",\"Петрова Татьяна Денисовна\",\"125493, г.Москва, ул.Пулковская, д.4, корп.1, кв.56\",\"02/03/1980\",\"0000000000\",\"(495) 261-63-66\",\"petya@temp-mail.ru\",\"Nissan Sunny\"],[\"as is sample 3\",\"Си Хуан Ли\",\"Новосибирск, ул.Новогодняя, д.12, кв.5\",\"1990-12-26\",\"zzz\",\"89133990909\",\"bob@yandex,ru\",\"Лада Гранта\"]]}";
	private static final String MOCK_RESPONSE_SAMPLES_FULL_JSON = "{\"structure\":[\"AS_IS\",\"NAME\",\"ADDRESS\",\"BIRTHDATE\",\"PASSPORT\",\"PHONE\",\"EMAIL\",\"VEHICLE\"],\"data\":[[{\"source\":\"as is sample 1\"},{\"source\":\"Иванов Пётр Васильевич\",\"result\":\"Иванов Пётр Васильевич\",\"result_genitive\":\"Иванова Пётра Васильевича\",\"result_dative\":\"Иванову Пётру Васильевичу\",\"result_ablative\":\"Ивановым Пётром Васильевичем\",\"surname\":\"Иванов\",\"name\":\"Пётр\",\"patronymic\":\"Васильевич\",\"gender\":\"М\",\"qc\":0},{\"source\":\"Хабаровский край, гор. Хабаровск, ул. Промышленная, д.20\",\"result\":\"г Хабаровск, ул Промышленная, д 20\",\"postal_code\":\"680009\",\"country\":\"Россия\",\"region_fias_id\":\"7d468b39-1afa-41ec-8c4f-97a8603cb3d4\",\"region_kladr_id\":\"2700000000000\",\"region_with_type\":\"Хабаровский край\",\"region_type\":\"край\",\"region_type_full\":\"край\",\"region\":\"Хабаровский\",\"area_fias_id\":null,\"area_kladr_id\":null,\"area_with_type\":null,\"area_type\":null,\"area_type_full\":null,\"area\":null,\"city_fias_id\":\"a4859da8-9977-4b62-8436-4e1b98c5d13f\",\"city_kladr_id\":\"2700000100000\",\"city_with_type\":\"г Хабаровск\",\"city_type\":\"г\",\"city_type_full\":\"город\",\"city\":\"Хабаровск\",\"city_area\":null,\"city_district_fias_id\":null,\"city_district_kladr_id\":null,\"city_district_with_type\":\"р-н Железнодорожный\",\"city_district_type\":\"р-н\",\"city_district_type_full\":\"район\",\"city_district\":\"Железнодорожный\",\"settlement_fias_id\":null,\"settlement_kladr_id\":null,\"settlement_with_type\":null,\"settlement_type\":null,\"settlement_type_full\":null,\"settlement\":null,\"street_fias_id\":\"7e8aa3f7-390d-4539-9f8d-6c510d6cd1d0\",\"street_kladr_id\":\"27000001000072100\",\"street_with_type\":\"ул Промышленная\",\"street_type\":\"ул\",\"street_type_full\":\"улица\",\"street\":\"Промышленная\",\"house_fias_id\":\"7ccbf45a-211d-4c77-8887-d2cb8914c4f7\",\"house_kladr_id\":\"2700000100007210011\",\"house_type\":\"д\",\"house_type_full\":\"дом\",\"house\":\"20\",\"block_type\":null,\"block_type_full\":null,\"block\":null,\"flat_type\":null,\"flat_type_full\":null,\"flat\":null,\"flat_area\":\"499.02\",\"square_meter_price\":null,\"flat_price\":null,\"postal_box\":null,\"fias_id\":\"7ccbf45a-211d-4c77-8887-d2cb8914c4f7\",\"fias_code\":\"27000001000000007210011\",\"fias_level\":\"8\",\"fias_actuality_state\":\"0\",\"kladr_id\":\"2700000100007210011\",\"capital_marker\":\"2\",\"okato\":\"08401363000\",\"oktmo\":\"08701000\",\"tax_office\":\"2724\",\"tax_office_legal\":\"2724\",\"timezone\":\"UTC+10\",\"geo_lat\":\"48.4959975\",\"geo_lon\":\"135.1058715\",\"beltway_hit\":null,\"beltway_distance\":null,\"qc_geo\":0,\"qc_complete\":5,\"qc_house\":2,\"qc\":0,\"unparsed_parts\":null,\"metro\":null},{\"source\":\"01.02.70\",\"birthdate\":\"01.02.1970\",\"qc\":0},{\"source\":\"4509 235857\",\"series\":\"45 09\",\"number\":\"235857\",\"qc\":0},{\"source\":\"4212450045\",\"type\":\"Стационарный\",\"phone\":\"+7 4212 45-00-45\",\"country_code\":\"7\",\"city_code\":\"4212\",\"number\":\"450045\",\"extension\":null,\"provider\":\"АО \\\"Рэдком-Интернет\\\"\",\"region\":\"Хабаровский\",\"timezone\":\"UTC+10\",\"qc_conflict\":0,\"qc\":0},{\"source\":\"vasya@mail.ru\",\"email\":\"vasya@mail.ru\",\"qc\":0},{\"source\":\"форд фокус\",\"result\":\"FORD FOCUS\",\"brand\":\"FORD\",\"model\":\"FOCUS\",\"qc\":0}],[{\"source\":\"as is sample 2\"},{\"source\":\"Петрова Татьяна Денисовна\",\"result\":\"Петрова Татьяна Денисовна\",\"result_genitive\":\"Петровой Татьяны Денисовны\",\"result_dative\":\"Петровой Татьяне Денисовне\",\"result_ablative\":\"Петровой Татьяной Денисовной\",\"surname\":\"Петрова\",\"name\":\"Татьяна\",\"patronymic\":\"Денисовна\",\"gender\":\"Ж\",\"qc\":0},{\"source\":\"125493, г.Москва, ул.Пулковская, д.4, корп.1, кв.56\",\"result\":\"г Москва, ул Пулковская, д 4 к 1, кв 56\",\"postal_code\":\"125493\",\"country\":\"Россия\",\"region_fias_id\":\"0c5b2444-70a0-4932-980c-b4dc0d3f02b5\",\"region_kladr_id\":\"7700000000000\",\"region_with_type\":\"г Москва\",\"region_type\":\"г\",\"region_type_full\":\"город\",\"region\":\"Москва\",\"area_fias_id\":null,\"area_kladr_id\":null,\"area_with_type\":null,\"area_type\":null,\"area_type_full\":null,\"area\":null,\"city_fias_id\":null,\"city_kladr_id\":null,\"city_with_type\":null,\"city_type\":null,\"city_type_full\":null,\"city\":null,\"city_area\":\"Северный\",\"city_district_fias_id\":null,\"city_district_kladr_id\":null,\"city_district_with_type\":\"р-н Головинский\",\"city_district_type\":\"р-н\",\"city_district_type_full\":\"район\",\"city_district\":\"Головинский\",\"settlement_fias_id\":null,\"settlement_kladr_id\":null,\"settlement_with_type\":null,\"settlement_type\":null,\"settlement_type_full\":null,\"settlement\":null,\"street_fias_id\":\"a0885c46-2cdc-4bfe-9fed-ae15a5068930\",\"street_kladr_id\":\"77000000000241100\",\"street_with_type\":\"ул Пулковская\",\"street_type\":\"ул\",\"street_type_full\":\"улица\",\"street\":\"Пулковская\",\"house_fias_id\":\"fe3ea672-689e-4b31-8100-90ccd13adcb6\",\"house_kladr_id\":\"7700000000024110005\",\"house_type\":\"д\",\"house_type_full\":\"дом\",\"house\":\"4\",\"block_type\":\"к\",\"block_type_full\":\"корпус\",\"block\":\"1\",\"flat_type\":\"кв\",\"flat_type_full\":\"квартира\",\"flat\":\"56\",\"flat_area\":\"162.7\",\"square_meter_price\":\"273530\",\"flat_price\":\"44503331\",\"postal_box\":null,\"fias_id\":\"fe3ea672-689e-4b31-8100-90ccd13adcb6\",\"fias_code\":\"77000000000000024110005\",\"fias_level\":\"8\",\"fias_actuality_state\":\"0\",\"kladr_id\":\"7700000000024110005\",\"capital_marker\":\"0\",\"okato\":\"45277571000\",\"oktmo\":\"45338000\",\"tax_office\":\"7743\",\"tax_office_legal\":\"7743\",\"timezone\":\"UTC+3\",\"geo_lat\":\"55.8441058\",\"geo_lon\":\"37.4847472\",\"beltway_hit\":\"IN_MKAD\",\"beltway_distance\":null,\"qc_geo\":0,\"qc_complete\":0,\"qc_house\":2,\"qc\":0,\"unparsed_parts\":null,\"metro\":[{\"distance\":0.6,\"line\":\"Замоскворецкая\",\"name\":\"Водный стадион\"},{\"distance\":1.2,\"line\":\"Замоскворецкая\",\"name\":\"Речной вокзал\"},{\"distance\":2.2,\"line\":\"МЦК\",\"name\":\"Балтийская\"}]},{\"source\":\"02/03/1980\",\"birthdate\":\"02.03.1980\",\"qc\":0},{\"source\":\"0000000000\",\"series\":null,\"number\":null,\"qc\":10},{\"source\":\"(495) 261-63-66\",\"type\":\"Стационарный\",\"phone\":\"+7 495 261-63-66\",\"country_code\":\"7\",\"city_code\":\"495\",\"number\":\"2616366\",\"extension\":null,\"provider\":\"ОАО \\\"МГТС\\\"\",\"region\":\"Москва\",\"timezone\":\"UTC+3\",\"qc_conflict\":0,\"qc\":0},{\"source\":\"petya@temp-mail.ru\",\"email\":\"petya@temp-mail.ru\",\"qc\":3},{\"source\":\"Nissan Sunny\",\"result\":\"NISSAN SUNNY\",\"brand\":\"NISSAN\",\"model\":\"SUNNY\",\"qc\":0}],[{\"source\":\"as is sample 3\"},{\"source\":\"Си Хуан Ли\",\"result\":\"Си Хуан Ли\",\"result_genitive\":null,\"result_dative\":null,\"result_ablative\":null,\"surname\":\"Си\",\"name\":\"Хуан Ли\",\"patronymic\":null,\"gender\":\"М\",\"qc\":0},{\"source\":\"Новосибирск, ул.Новогодняя, д.12, кв.5\",\"result\":\"г Новосибирск, ул Новогодняя, д 12, кв 5\",\"postal_code\":\"630064\",\"country\":\"Россия\",\"region_fias_id\":\"1ac46b49-3209-4814-b7bf-a509ea1aecd9\",\"region_kladr_id\":\"5400000000000\",\"region_with_type\":\"Новосибирская обл\",\"region_type\":\"обл\",\"region_type_full\":\"область\",\"region\":\"Новосибирская\",\"area_fias_id\":null,\"area_kladr_id\":null,\"area_with_type\":null,\"area_type\":null,\"area_type_full\":null,\"area\":null,\"city_fias_id\":\"8dea00e3-9aab-4d8e-887c-ef2aaa546456\",\"city_kladr_id\":\"5400000100000\",\"city_with_type\":\"г Новосибирск\",\"city_type\":\"г\",\"city_type_full\":\"город\",\"city\":\"Новосибирск\",\"city_area\":null,\"city_district_fias_id\":null,\"city_district_kladr_id\":null,\"city_district_with_type\":\"р-н Кировский\",\"city_district_type\":\"р-н\",\"city_district_type_full\":\"район\",\"city_district\":\"Кировский\",\"settlement_fias_id\":null,\"settlement_kladr_id\":null,\"settlement_with_type\":null,\"settlement_type\":null,\"settlement_type_full\":null,\"settlement\":null,\"street_fias_id\":\"80ce90aa-4d23-4207-b16d-62575f44c5e5\",\"street_kladr_id\":\"54000001000087500\",\"street_with_type\":\"ул Новогодняя\",\"street_type\":\"ул\",\"street_type_full\":\"улица\",\"street\":\"Новогодняя\",\"house_fias_id\":\"7cb96b36-b00f-4e69-afa1-088a129cdf75\",\"house_kladr_id\":\"5400000100008750027\",\"house_type\":\"д\",\"house_type_full\":\"дом\",\"house\":\"12\",\"block_type\":null,\"block_type_full\":null,\"block\":null,\"flat_type\":\"кв\",\"flat_type_full\":\"квартира\",\"flat\":\"5\",\"flat_area\":\"30.6\",\"square_meter_price\":\"56941\",\"flat_price\":\"1742395\",\"postal_box\":null,\"fias_id\":\"7cb96b36-b00f-4e69-afa1-088a129cdf75\",\"fias_code\":\"54000001000000008750027\",\"fias_level\":\"8\",\"fias_actuality_state\":\"0\",\"kladr_id\":\"5400000100008750027\",\"capital_marker\":\"2\",\"okato\":\"50401374000\",\"oktmo\":\"50701000001\",\"tax_office\":\"5403\",\"tax_office_legal\":\"5403\",\"timezone\":\"UTC+7\",\"geo_lat\":\"54.9828326\",\"geo_lon\":\"82.9039741\",\"beltway_hit\":null,\"beltway_distance\":null,\"qc_geo\":0,\"qc_complete\":0,\"qc_house\":2,\"qc\":0,\"unparsed_parts\":null,\"metro\":[{\"distance\":0.7,\"line\":\"Ленинская\",\"name\":\"Площадь Маркса\"},{\"distance\":0.7,\"line\":\"Ленинская\",\"name\":\"Студенческая\"},{\"distance\":3.6,\"line\":\"Ленинская\",\"name\":\"Речной вокзал\"}]},{\"source\":\"1990-12-26\",\"birthdate\":\"26.12.1990\",\"qc\":0},{\"source\":\"zzz\",\"series\":null,\"number\":null,\"qc\":1},{\"source\":\"89133990909\",\"type\":\"Мобильный\",\"phone\":\"+7 913 399-09-09\",\"country_code\":\"7\",\"city_code\":\"913\",\"number\":\"3990909\",\"extension\":null,\"provider\":\"ПАО \\\"Мобильные ТелеСистемы\\\"\",\"region\":\"Новосибирская область\",\"timezone\":\"UTC+7\",\"qc_conflict\":0,\"qc\":0},{\"source\":\"bob@yandex,ru\",\"email\":\"bob@yandex.ru\",\"qc\":1},{\"source\":\"Лада Гранта\",\"result\":\"ВАЗ GRANTA\",\"brand\":\"ВАЗ\",\"model\":\"GRANTA\",\"qc\":0}]]}";

	private static final String MOCK_REQUEST_SAMPLES_GAPS_JSON = "{\"structure\":[\"AS_IS\",\"NAME\",\"BIRTHDATE\"],\"data\":[[[\"as\",\" is\",\" sample\",\" 1\"],null,null],[null,\"Иванов Пётр Васильевич\",null],[null,null,\"01.02.70\"]]}";
	private static final String MOCK_RESPONSE_SAMPLES_GAPS_JSON = "{\"structure\":[\"AS_IS\",\"NAME\",\"BIRTHDATE\"],\"data\":[[{\"source\":\"as is sample 1\"},{\"source\":null,\"result\":null,\"result_genitive\":null,\"result_dative\":null,\"result_ablative\":null,\"surname\":null,\"name\":null,\"patronymic\":null,\"gender\":\"НД\",\"qc\":2},{\"source\":null,\"birthdate\":null,\"qc\":2}],[{\"source\":null},{\"source\":\"Иванов Пётр Васильевич\",\"result\":\"Иванов Пётр Васильевич\",\"result_genitive\":\"Иванова Пётра Васильевича\",\"result_dative\":\"Иванову Пётру Васильевичу\",\"result_ablative\":\"Ивановым Пётром Васильевичем\",\"surname\":\"Иванов\",\"name\":\"Пётр\",\"patronymic\":\"Васильевич\",\"gender\":\"М\",\"qc\":0},{\"source\":null,\"birthdate\":null,\"qc\":2}],[{\"source\":null},{\"source\":null,\"result\":null,\"result_genitive\":null,\"result_dative\":null,\"result_ablative\":null,\"surname\":null,\"name\":null,\"patronymic\":null,\"gender\":\"НД\",\"qc\":2},{\"source\":\"01.02.70\",\"birthdate\":\"01.02.1970\",\"qc\":0}]]}";

	@Getter
	public enum SampleComposite {
		SAMPLES_FULL(requestFullOfSamples(),
		             TestCasesSuccessComposite.MOCK_REQUEST_SAMPLES_FULL_JSON,
		             TestCasesSuccessComposite.MOCK_RESPONSE_SAMPLES_FULL_JSON,
		             matcherResposeFullOfSamples()),
		SAMPLES_GAPS(requestGapsOfSamples(),
		             TestCasesSuccessComposite.MOCK_REQUEST_SAMPLES_GAPS_JSON,
		             TestCasesSuccessComposite.MOCK_RESPONSE_SAMPLES_GAPS_JSON,
		             matcherResposeGapsOfSamples());

		private final CompositeRequest request;
		private final String requestBody;
		private final String responseBody;
		private final Matcher<? super CompositeResponse> responseMatcher;

		SampleComposite(final CompositeRequest request, final String requestBody, final String responseBody,
		                final Matcher<? super CompositeResponse> responseMatcher) {
			this.request = request;
			this.requestBody = requestBody;
			this.responseBody = responseBody;
			this.responseMatcher = responseMatcher;
		}

/*
		public Matcher<?> getResponseMatcher() {
			return responseMatcher != null ? responseMatcher : nullValue(CompositeResponse.class);
		}
*/
	}


	private static CompositeRequest requestFullOfSamples() {
		// @formatter:off
		return CompositeRequest
				.compose()
					.element()
						.asIs("as is sample 1")
						.address(TestCasesSuccessAddress.SampleAddresses.KHABAROVSK_1.getSourcePattern())
						.birthDate(TestCasesSuccessBirthDate.SampleBirthDates.VALID_1.getSourcePattern())
						.email(TestCasesSuccessEmail.SampleEmails.VALID.getSourcePattern())
						.name(TestCasesSuccessName.SampleNames.MALE_1.getSourcePattern())
						.passport(TestCasesSuccessPassport.SamplePassports.VALID_1.getSourcePattern())
						.phone(TestCasesSuccessPhone.SamplePhones.KHABAROVSK_1.getSourcePattern())
						.vehicle(TestCasesSuccessVehicle.SampleVehicles.VALID_1.getSourcePattern())
				.and()
					.element()
						.asIs("as is sample 2")
						.address(TestCasesSuccessAddress.SampleAddresses.MOSCOW_1.getSourcePattern())
						.birthDate(TestCasesSuccessBirthDate.SampleBirthDates.VALID_2.getSourcePattern())
						.email(TestCasesSuccessEmail.SampleEmails.INSTANT.getSourcePattern())
						.name(TestCasesSuccessName.SampleNames.FEMALE_1.getSourcePattern())
						.passport(TestCasesSuccessPassport.SamplePassports.VOID_1.getSourcePattern())
						.phone(TestCasesSuccessPhone.SamplePhones.MOSCOW_1.getSourcePattern())
						.vehicle(TestCasesSuccessVehicle.SampleVehicles.VALID_2.getSourcePattern())
				.and()
					.element()
						.asIs("as is sample 3")
						.address(TestCasesSuccessAddress.SampleAddresses.NOVOSIB_1.getSourcePattern())
						.birthDate(TestCasesSuccessBirthDate.SampleBirthDates.VALID_3.getSourcePattern())
						.email(TestCasesSuccessEmail.SampleEmails.CORRECTED.getSourcePattern())
						.name(TestCasesSuccessName.SampleNames.CHINESE.getSourcePattern())
						.passport(TestCasesSuccessPassport.SamplePassports.BAD_FORMAT_1.getSourcePattern())
						.phone(TestCasesSuccessPhone.SamplePhones.NOVOSIB_MOBILE_1.getSourcePattern())
						.vehicle(TestCasesSuccessVehicle.SampleVehicles.VALID_3.getSourcePattern())
				.and()
					.build();
		// @formatter:on
	}

	private static CompositeRequest requestGapsOfSamples() {
		// @formatter:off
		return CompositeRequest
				.compose()
					.element()
						.asIs("as", " is", " sample", " 1")
				.and()
					.element()
						.name(TestCasesSuccessName.SampleNames.MALE_1.getSourcePattern())
				.and()
					.element()
						.birthDate(TestCasesSuccessBirthDate.SampleBirthDates.VALID_1.getSourcePattern())
				.and()
					.build();
		// @formatter:on
	}


	@Nonnull
	private static Matcher<? super CompositeResponse> matcherResposeFullOfSamples() {
		//noinspection unchecked
		return allOf(hasProperty("structure", hasItems(AS_IS, NAME, ADDRESS, BIRTHDATE, PASSPORT, PHONE, EMAIL, VEHICLE)),
		             contains(pojo(CompositeResponse.Record.class)
				                      .withProperty("asIs", asisMatcher("as is sample 1"))
				                      .withProperty("address", TestCasesSuccessAddress.SampleAddresses.KHABAROVSK_1.getMatcher())
				                      .withProperty("birthDate", TestCasesSuccessBirthDate.SampleBirthDates.VALID_1.getMatcher())
				                      .withProperty("email", TestCasesSuccessEmail.SampleEmails.VALID.getMatcher())
				                      .withProperty("name", TestCasesSuccessName.SampleNames.MALE_1.getMatcher())
				                      .withProperty("passport", TestCasesSuccessPassport.SamplePassports.VALID_1.getMatcher())
				                      .withProperty("phone", TestCasesSuccessPhone.SamplePhones.KHABAROVSK_1.getMatcher())
				                      .withProperty("vehicle", TestCasesSuccessVehicle.SampleVehicles.VALID_1.getMatcher()),
		                      pojo(CompositeResponse.Record.class)
				                      .withProperty("asIs", asisMatcher("as is sample 2"))
				                      .withProperty("address", TestCasesSuccessAddress.SampleAddresses.MOSCOW_1.getMatcher())
				                      .withProperty("birthDate", TestCasesSuccessBirthDate.SampleBirthDates.VALID_2.getMatcher())
				                      .withProperty("email", TestCasesSuccessEmail.SampleEmails.INSTANT.getMatcher())
				                      .withProperty("name", TestCasesSuccessName.SampleNames.FEMALE_1.getMatcher())
				                      .withProperty("passport", TestCasesSuccessPassport.SamplePassports.VOID_1.getMatcher())
				                      .withProperty("phone", TestCasesSuccessPhone.SamplePhones.MOSCOW_1.getMatcher())
				                      .withProperty("vehicle", TestCasesSuccessVehicle.SampleVehicles.VALID_2.getMatcher()),
		                      pojo(CompositeResponse.Record.class)
				                      .withProperty("asIs", asisMatcher("as is sample 3"))
				                      .withProperty("address", TestCasesSuccessAddress.SampleAddresses.NOVOSIB_1.getMatcher())
				                      .withProperty("birthDate", TestCasesSuccessBirthDate.SampleBirthDates.VALID_3.getMatcher())
				                      .withProperty("email", TestCasesSuccessEmail.SampleEmails.CORRECTED.getMatcher())
				                      .withProperty("name", TestCasesSuccessName.SampleNames.CHINESE.getMatcher())
				                      .withProperty("passport", TestCasesSuccessPassport.SamplePassports.BAD_FORMAT_1.getMatcher())
				                      .withProperty("phone", TestCasesSuccessPhone.SamplePhones.NOVOSIB_MOBILE_1.getMatcher())
				                      .withProperty("vehicle", TestCasesSuccessVehicle.SampleVehicles.VALID_3.getMatcher())
		                     )
		            );
	}

	@Nonnull
	private static Matcher<? super CompositeResponse> matcherResposeGapsOfSamples() {
		//noinspection unchecked
		return allOf(hasProperty("structure", hasItems(AS_IS, NAME, BIRTHDATE)),
		             contains(pojo(CompositeResponse.Record.class)
				                      .withProperty("asIs", asisMatcher("as is sample 1"))
				                      .withProperty("name", TestCasesSuccessName.SampleNames.NULL.getMatcher())
				                      .withProperty("birthDate", TestCasesSuccessBirthDate.SampleBirthDates.NULL.getMatcher()),
		                      pojo(CompositeResponse.Record.class)
				                      .withProperty("asIs", asisMatcher(null))
				                      .withProperty("name", TestCasesSuccessName.SampleNames.MALE_1.getMatcher())
				                      .withProperty("birthDate", TestCasesSuccessBirthDate.SampleBirthDates.NULL.getMatcher()),
		                      pojo(CompositeResponse.Record.class)
				                      .withProperty("asIs", asisMatcher(null))
				                      .withProperty("name", TestCasesSuccessName.SampleNames.NULL.getMatcher())
				                      .withProperty("birthDate", TestCasesSuccessBirthDate.SampleBirthDates.VALID_1.getMatcher())
		                     )
		            );
	}

	@Nonnull
	public static Matcher<AsIs> asisMatcher(@Nullable final String pattern) {
		return pojo(AsIs.class).withProperty("source", equalTo(pattern));
	}

	public static void successTest(final DaDataClient dadata, final CompositeRequest request, final Matcher<? super CompositeResponse> matcher) {
		System.out.println("Composite request: " + request);
		final CompositeResponse response = dadata.cleanComposite(request);
		System.out.println("Composite response: " + response);
		assertThat(response, matcher);
	}
}
